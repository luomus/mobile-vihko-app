{
  "data": {
    "form": {
      "schema": {
        "type": "object",
        "properties": {
          "editors": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Redigeringsrättigheter"
          },
          "secureLevel": {
            "type": "string",
            "oneOf": [
              {
                "const": "MX.secureLevelNone",
                "title": "Inte skyddad"
              },
              {
                "const": "MX.secureLevelKM10",
                "title": "10 km"
              }
            ],
            "title": "Kontrollelar geografisk information är offentliga i detalj",
            "default": "MX.secureLevelNone"
          },
          "gatheringEvent": {
            "type": "object",
            "properties": {
              "leg": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "title": ""
              },
              "legPublic": {
                "type": "boolean",
                "title": "Kontrollantnamn är offentliga",
                "default": false
              },
              "dateBegin": {
                "type": "string",
                "title": "Startdatum"
              },
              "dateEnd": {
                "type": "string",
                "title": "Slutdatum"
              },
              "gatheringFact": {
                "type": "object",
                "properties": {
                  "lolifeSiteClassification": {
                    "type": "string",
                    "oneOf": [
                      {
                        "const": "",
                        "title": ""
                      },
                      {
                        "const": "MY.lolifeSiteClassificationExcellent",
                        "title": "Utmärkt"
                      },
                      {
                        "const": "MY.lolifeSiteClassificationSuboptimal",
                        "title": "Suboptima"
                      },
                      {
                        "const": "MY.lolifeSiteClassificationPossible",
                        "title": "Möjlig, inte trolig"
                      },
                      {
                        "const": "MY.lolifeSiteClassificationCurrentlyUnsuitable",
                        "title": "Inte möjligt för närvarande"
                      },
                      {
                        "const": "MY.lolifeSiteClassificationPermanentlyUnsuitable",
                        "title": "Permanent ogiltig"
                      }
                    ],
                    "title": "Platsklassificering"
                  },
                  "lolifeSiteClassificationComments": {
                    "type": "string",
                    "title": "Klassificeringskommentarer"
                  }
                },
                "required": [],
                "title": ""
              },
              "nextMonitoringYear": {
                "type": "integer",
                "title": "Nästa kontrollår"
              },
              "namedPlaceNotes": {
                "type": "string",
                "title": "Info om denna rutt"
              }
            },
            "required": [],
            "title": ""
          },
          "keywords": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "title": "Nyckelord"
          },
          "gatherings": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "geometry": {
                  "type": "object",
                  "properties": {},
                  "title": "Coordinates"
                },
                "locality": {
                  "type": "string",
                  "title": ""
                },
                "notes": {
                  "type": "string",
                  "title": "Anteckningar"
                },
                "habitat": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "oneOf": [
                      {
                        "const": "",
                        "title": ""
                      },
                      {
                        "const": "MY.habitatEnumValue1",
                        "title": "Skog"
                      },
                      {
                        "const": "MY.habitatEnumValue2",
                        "title": "Moskog"
                      },
                      {
                        "const": "MY.habitatEnumValue3",
                        "title": "Frisk mo"
                      },
                      {
                        "const": "MY.habitatEnumValue4",
                        "title": "Lundartad mo"
                      },
                      {
                        "const": "MY.habitatEnumValue5",
                        "title": "Tämligen torr mo"
                      },
                      {
                        "const": "MY.habitatEnumValue6",
                        "title": "Karg mo"
                      },
                      {
                        "const": "MY.habitatEnumValue7",
                        "title": "Lund"
                      },
                      {
                        "const": "MY.habitatEnumValue8",
                        "title": "Torr lund"
                      },
                      {
                        "const": "MY.habitatEnumValue9",
                        "title": "Frisk lund"
                      },
                      {
                        "const": "MY.habitatEnumValue10",
                        "title": "Fuktig lund"
                      },
                      {
                        "const": "MY.habitatEnumValue11",
                        "title": "Ädellövskog"
                      },
                      {
                        "const": "MY.habitatEnumValue12",
                        "title": "Fjällbjörkslund"
                      },
                      {
                        "const": "MY.habitatEnumValue13",
                        "title": "Fjällbjörkskog, ej lund"
                      },
                      {
                        "const": "MY.habitatEnumValue14",
                        "title": "Myr"
                      },
                      {
                        "const": "MY.habitatEnumValue15",
                        "title": "Öppen myr"
                      },
                      {
                        "const": "MY.habitatEnumValue16",
                        "title": "Rikkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue17",
                        "title": "Fattigkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue18",
                        "title": "Öppet madkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue19",
                        "title": "Trädbevuxen myr"
                      },
                      {
                        "const": "MY.habitatEnumValue20",
                        "title": "Mosse"
                      },
                      {
                        "const": "MY.habitatEnumValue21",
                        "title": "Skogkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue22",
                        "title": "Busk-madkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue23",
                        "title": "Skogs-madkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue24",
                        "title": "Vatten"
                      },
                      {
                        "const": "MY.habitatEnumValue25",
                        "title": "Källa och källkärr"
                      },
                      {
                        "const": "MY.habitatEnumValue26",
                        "title": "Bäck"
                      },
                      {
                        "const": "MY.habitatEnumValue27",
                        "title": "Strand"
                      },
                      {
                        "const": "MY.habitatEnumValue28",
                        "title": "Översvämningsskog och skogskärr"
                      },
                      {
                        "const": "MY.habitatEnumValue29",
                        "title": "Strandbuskage"
                      },
                      {
                        "const": "MY.habitatEnumValue30",
                        "title": "Madskärrstrand"
                      },
                      {
                        "const": "MY.habitatEnumValue31",
                        "title": "Ängstrand"
                      },
                      {
                        "const": "MY.habitatEnumValue32",
                        "title": "Vassruggar"
                      },
                      {
                        "const": "MY.habitatEnumValue33",
                        "title": "Grus- och klapperstenstrand"
                      },
                      {
                        "const": "MY.habitatEnumValue34",
                        "title": "Sandstrand"
                      },
                      {
                        "const": "MY.habitatEnumValue35",
                        "title": "Öppen översvämingsbenägna mark"
                      },
                      {
                        "const": "MY.habitatEnumValue36",
                        "title": "Hällmark och stenfält"
                      },
                      {
                        "const": "MY.habitatEnumValue87",
                        "title": "Karga och mesotrofa hällmark (\"vanliga hällmark\")"
                      },
                      {
                        "const": "MY.habitatEnumValue37",
                        "title": "Hällmark och stenfält med lavar"
                      },
                      {
                        "const": "MY.habitatEnumValue38",
                        "title": "Ris-gräsrik hällmark och stenfält"
                      },
                      {
                        "const": "MY.habitatEnumValue39",
                        "title": "Hällmark och stenfält med gläsa träd"
                      },
                      {
                        "const": "MY.habitatEnumValue40",
                        "title": "Skog på hällmark"
                      },
                      {
                        "const": "MY.habitatEnumValue41",
                        "title": "Kalkhäll och stenbrott, bar kalkjord"
                      },
                      {
                        "const": "MY.habitatEnumValue42",
                        "title": "Serpentinberg och -mark"
                      },
                      {
                        "const": "MY.habitatEnumValue43",
                        "title": "Hällmarkstorräng"
                      },
                      {
                        "const": "MY.habitatEnumValue44",
                        "title": "Kalfjäll"
                      },
                      {
                        "const": "MY.habitatEnumValue45",
                        "title": "Fjällhed"
                      },
                      {
                        "const": "MY.habitatEnumValue46",
                        "title": "Fjälläng"
                      },
                      {
                        "const": "MY.habitatEnumValue47",
                        "title": "Snölega"
                      },
                      {
                        "const": "MY.habitatEnumValue48",
                        "title": "Fjällhedbuskage"
                      },
                      {
                        "const": "MY.habitatEnumValue49",
                        "title": "Kärr på kalfjäll"
                      },
                      {
                        "const": "MY.habitatEnumValue50",
                        "title": "Hällmark eller stenfält på kalfjäll"
                      },
                      {
                        "const": "MY.habitatEnumValue51",
                        "title": "Myrmark på kalfjäll"
                      },
                      {
                        "const": "MY.habitatEnumValue52",
                        "title": "Sjö och tjärna (inkl. strand) på kalfjäll"
                      },
                      {
                        "const": "MY.habitatEnumValue53",
                        "title": ""
                      },
                      {
                        "const": "MY.habitatEnumValue54",
                        "title": "Bergsbrant"
                      },
                      {
                        "const": "MY.habitatEnumValue55",
                        "title": "Vårdbiotop och annan omgivning med mänsklig påverkan"
                      },
                      {
                        "const": "MY.habitatEnumValue56",
                        "title": "Vårdbiotop"
                      },
                      {
                        "const": "MY.habitatEnumValue57",
                        "title": "Torräng"
                      },
                      {
                        "const": "MY.habitatEnumValue58",
                        "title": "Hed"
                      },
                      {
                        "const": "MY.habitatEnumValue59",
                        "title": "Frisk äng"
                      },
                      {
                        "const": "MY.habitatEnumValue60",
                        "title": "Hagmark, hamlingsäng eller skogsbete"
                      },
                      {
                        "const": "MY.habitatEnumValue61",
                        "title": "Fuktäng (annan än strandäng)"
                      },
                      {
                        "const": "MY.habitatEnumValue62",
                        "title": "Kärräng"
                      },
                      {
                        "const": "MY.habitatEnumValue63",
                        "title": "Hällmarkstorräng"
                      },
                      {
                        "const": "MY.habitatEnumValue64",
                        "title": "Dike eller annat schakt (inkl. dikesren)"
                      },
                      {
                        "const": "MY.habitatEnumValue65",
                        "title": "Vägkant (ren, ramp)"
                      },
                      {
                        "const": "MY.habitatEnumValue66",
                        "title": "Odlingsmark"
                      },
                      {
                        "const": "MY.habitatEnumValue67",
                        "title": "Åker"
                      },
                      {
                        "const": "MY.habitatEnumValue68",
                        "title": "Odlad vall"
                      },
                      {
                        "const": "MY.habitatEnumValue69",
                        "title": "Träd- och buskodling"
                      },
                      {
                        "const": "MY.habitatEnumValue70",
                        "title": "Övergiven åker"
                      },
                      {
                        "const": "MY.habitatEnumValue71",
                        "title": "Park, gårdsplan, trädgård"
                      },
                      {
                        "const": "MY.habitatEnumValue72",
                        "title": "Park"
                      },
                      {
                        "const": "MY.habitatEnumValue73",
                        "title": "Herrgård park"
                      },
                      {
                        "const": "MY.habitatEnumValue74",
                        "title": "Begravningsplats"
                      },
                      {
                        "const": "MY.habitatEnumValue75",
                        "title": "Gårdsplan"
                      },
                      {
                        "const": "MY.habitatEnumValue76",
                        "title": "Trädgård"
                      },
                      {
                        "const": "MY.habitatEnumValue77",
                        "title": "Öppen grässmark"
                      },
                      {
                        "const": "MY.habitatEnumValue78",
                        "title": "Buskage"
                      },
                      {
                        "const": "MY.habitatEnumValue79",
                        "title": "Nytthabitat"
                      },
                      {
                        "const": "MY.habitatEnumValue80",
                        "title": "Vägkant (ren, ramp)"
                      },
                      {
                        "const": "MY.habitatEnumValue81",
                        "title": "Jordtipp"
                      },
                      {
                        "const": "MY.habitatEnumValue82",
                        "title": "Markfyllningsområde"
                      },
                      {
                        "const": "MY.habitatEnumValue83",
                        "title": "Sand- och grusgrop"
                      },
                      {
                        "const": "MY.habitatEnumValue84",
                        "title": "Torvproduktionsområde"
                      },
                      {
                        "const": "MY.habitatEnumValue85",
                        "title": "Stenbrott- och gruvområde"
                      },
                      {
                        "const": "MY.habitatEnumValue86",
                        "title": "Impediment (inkl. hamnen, bangårdar)"
                      },
                      {
                        "const": "MY.habitatEnumValue88",
                        "title": "Sjö"
                      },
                      {
                        "const": "MY.habitatEnumValue89",
                        "title": "Brackvatten"
                      },
                      {
                        "const": "MY.habitatEnumValue90",
                        "title": "Oligotrophic lake or pond"
                      },
                      {
                        "const": "MY.habitatEnumValue91",
                        "title": "Näringsrik sjö eller tjärna"
                      },
                      {
                        "const": "MY.habitatEnumValue92",
                        "title": "Göl"
                      },
                      {
                        "const": "MY.habitatEnumValue93",
                        "title": "Å"
                      },
                      {
                        "const": "MY.habitatEnumValue94",
                        "title": "Fors"
                      }
                    ]
                  },
                  "uniqueItems": true,
                  "title": ""
                },
                "images": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "title": "Bilder"
                },
                "gatheringType": {
                  "type": "string",
                  "oneOf": [
                    {
                      "const": "",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeForagingArea",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeBreedingAndRestingArea",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeCavityTree",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeDroppingsTree",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeNestTree",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeLolifeAccess",
                      "title": "Vägbeskrivning"
                    },
                    {
                      "const": "MY.gatheringTypeLolifeCoreZone",
                      "title": "Hjärtat"
                    },
                    {
                      "const": "MY.gatheringTypeLolifeHabitatZone",
                      "title": "Vardagsrum"
                    },
                    {
                      "const": "MY.gatheringTypeLolifeApplicableZone",
                      "title": "Tillämpligt område"
                    },
                    {
                      "const": "MY.gatheringTypeWaterbirdPoint",
                      "title": ""
                    },
                    {
                      "const": "MY.gatheringTypeWaterbirdRound",
                      "title": ""
                    }
                  ],
                  "title": "Aluerajaus"
                },
                "units": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "count": {
                        "type": "string",
                        "title": "Antal"
                      },
                      "taxonConfidence": {
                        "type": "string",
                        "oneOf": [
                          {
                            "const": "MY.taxonConfidenceSure",
                            "title": "Säker"
                          },
                          {
                            "const": "MY.taxonConfidenceUnsure",
                            "title": "Osäker"
                          }
                        ],
                        "title": "",
                        "default": "MY.taxonConfidenceSure"
                      },
                      "notes": {
                        "type": "string",
                        "title": "Anteckningar"
                      },
                      "identifications": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "taxonID": {
                              "type": "string",
                              "title": "Laji",
                              "default": "MX.48243"
                            }
                          },
                          "required": []
                        },
                        "minItems": 1,
                        "title": ""
                      },
                      "recordBasis": {
                        "type": "string",
                        "oneOf": [
                          {
                            "const": "MY.recordBasisPreservedSpecimen",
                            "title": "Prov"
                          },
                          {
                            "const": "MY.recordBasisHumanObservationSeen",
                            "title": "Sett"
                          },
                          {
                            "const": "MY.recordBasisHumanObservationPhoto",
                            "title": "Fotograferat"
                          },
                          {
                            "const": "MY.recordBasisHumanObservationVideo",
                            "title": "Videobandad"
                          },
                          {
                            "const": "MY.recordBasisHumanObservationIndirect",
                            "title": "Indirekt observation (fotspår, avföring, etc)"
                          }
                        ],
                        "title": "Typ av abservation"
                      },
                      "nestType": {
                        "type": "string",
                        "oneOf": [
                          {
                            "const": "MY.nestTypeTreeCavity",
                            "title": "Hål i ett träd"
                          },
                          {
                            "const": "MY.nestTypeTwig",
                            "title": "Trädbo i ett träd"
                          },
                          {
                            "const": "MY.nestTypeNestBox",
                            "title": "En stativ i ett träd"
                          },
                          {
                            "const": "MY.nestTypeBuilding",
                            "title": "Byggnad"
                          },
                          {
                            "const": "MY.nestTypeGroundCavity",
                            "title": "Jord hål"
                          },
                          {
                            "const": "MY.nestTypeOther",
                            "title": "Andra, vad?"
                          }
                        ],
                        "title": "Botyp"
                      },
                      "nestNotes": {
                        "type": "string",
                        "title": "Boidentifierare"
                      },
                      "nestCount": {
                        "type": "integer",
                        "minimum": 0,
                        "title": "Antal bon / hålrum"
                      },
                      "indirectObservationType": {
                        "type": "string",
                        "oneOf": [
                          {
                            "const": "MY.indirectObservationTypeFeces",
                            "title": "Avföring"
                          },
                          {
                            "const": "MY.indirectObservationTypeSnowTracks",
                            "title": "Snö fotspår"
                          },
                          {
                            "const": "MY.indirectObservationTypeUrine",
                            "title": "Spår av urin"
                          },
                          {
                            "const": "MY.indirectObservationTypeFeasting",
                            "title": "Skyndade att äta"
                          },
                          {
                            "const": "MY.indirectObservationTypeFoodStock",
                            "title": "Matförvaring"
                          },
                          {
                            "const": "MY.indirectObservationTypeNone",
                            "title": "Inga iakttagelser"
                          }
                        ],
                        "title": "Spår"
                      },
                      "alive": {
                        "type": "boolean",
                        "title": "Levande"
                      },
                      "unitGathering": {
                        "type": "object",
                        "properties": {
                          "geometry": {
                            "type": "object",
                            "properties": {},
                            "title": "Coordinates"
                          }
                        },
                        "required": [],
                        "title": ""
                      },
                      "unitFact": {
                        "type": "object",
                        "properties": {
                          "lolifeDroppingsType": {
                            "type": "string",
                            "oneOf": [
                              {
                                "const": "",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsTypeRock",
                                "title": "På stenen"
                              },
                              {
                                "const": "MY.lolifeDroppingsTypeTree",
                                "title": "Enda träd"
                              },
                              {
                                "const": "MY.lolifeDroppingsTypeTreeGroup",
                                "title": "Multi-tree grupp"
                              },
                              {
                                "const": "MY.lolifeDroppingsTypeOther",
                                "title": "Annat, vänligen skicka information"
                              }
                            ],
                            "title": "Typ av paprikasikt"
                          },
                          "lolifeDroppingsCount": {
                            "type": "string",
                            "oneOf": [
                              {
                                "const": "",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount0",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount1",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount2",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount25",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount3",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsCount4",
                                "title": ""
                              }
                            ],
                            "title": "Spillning räknar"
                          },
                          "lolifeDroppingsQuality": {
                            "type": "string",
                            "oneOf": [
                              {
                                "const": "",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsQuality1",
                                "title": ""
                              },
                              {
                                "const": "MY.lolifeDroppingsQuality2",
                                "title": ""
                              }
                            ],
                            "title": "Spillningkvalitet"
                          },
                          "lolifeNestTree": {
                            "type": "string",
                            "oneOf": [
                              {
                                "const": "",
                                "title": ""
                              },
                              {
                                "const": "MX.38590",
                                "title": "asp"
                              },
                              {
                                "const": "MX.37812",
                                "title": "gran"
                              },
                              {
                                "const": "MX.37999",
                                "title": "glasbjörk"
                              },
                              {
                                "const": "MX.37993",
                                "title": "vårtbjörk"
                              },
                              {
                                "const": "MX.38010",
                                "title": "gråal"
                              },
                              {
                                "const": "MX.38008",
                                "title": "klibbal"
                              },
                              {
                                "const": "MY.lolifeNestTreeOther",
                                "title": "Annat, beskriv i anteckningar"
                              }
                            ],
                            "title": "Trädarter"
                          }
                        },
                        "required": [],
                        "title": ""
                      },
                      "images": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "title": "Bilder"
                      },
                      "nestTreeDiameterInCentimeters": {
                        "type": "integer",
                        "exclusiveMinimum": 0,
                        "title": "Trädets diameter (cm)"
                      }
                    },
                    "required": [
                      "recordBasis"
                    ]
                  },
                  "uniqueItems": false,
                  "title": "Observationer"
                },
                "biologicalProvince": {
                  "type": "string",
                  "title": "Biogeografisk provins"
                }
              },
              "required": []
            },
            "title": ""
          }
        },
        "required": [
          "gatherings"
        ]
      },
      "uiSchema": {
        "ui:shortcuts": {
          "alt": {
            "fn": "help",
            "delay": 1
          },
          "alt+F5": {
            "fn": "revalidate"
          },
          "Enter": {
            "fn": "navigate"
          },
          "shift+Enter": {
            "fn": "navigate",
            "reverse": true
          },
          "ctrl+Enter": {
            "fn": "textareaRowInsert"
          },
          "alt+ ": {
            "fn": "navigate"
          },
          "alt+shift+ ": {
            "fn": "navigate",
            "reverse": true
          },
          "alt+n": {
            "fn": "navigateArray"
          },
          "alt+p": {
            "fn": "navigateArray",
            "reverse": true
          }
        },
        "ui:order": [
          "gatheringEvent",
          "gatherings"
        ],
        "ui:field": "InjectField",
        "ui:options": {
          "injections": {
            "fields": [
              "editors",
              "secureLevel",
              "keywords"
            ],
            "target": "gatheringEvent"
          }
        },
        "gatheringEvent": {
          "ui:field": "NestField",
          "ui:classNames": "well well-sm",
          "ui:order": [
            "*",
            "legPublic",
            "secureLevel",
            "eventTime",
            "keywords",
            "gatheringFact",
            "nextMonitoringYear",
            "namedPlaceNotes"
          ],
          "ui:options": {
            "nests": {
              "legEditor": {
                "fields": [
                  "leg",
                  "editors"
                ],
                "rootUiSchema": {
                  "ui:field": "NestField",
                  "ui:options": {
                    "nests": {
                      "_legEditor": {
                        "fields": [
                          "leg",
                          "editors"
                        ],
                        "title": "",
                        "rootUiSchema": {
                          "ui:functions": [
                            {
                              "ui:field": "DependentBooleanField",
                              "ui:options": {
                                "booleanField": "editors",
                                "booleanDefiner": "leg"
                              }
                            },
                            {
                              "ui:field": "ArrayCombinerField"
                            }
                          ],
                          "ui:field": "TableField",
                          "ui:options": {
                            "specialRules": "legEditors",
                            "ui:buttonsDesktopLayout": true,
                            "buttons": [
                              {
                                "fn": "add",
                                "label": "Lägg till en obvservatör"
                              }
                            ]
                          },
                          "items": {
                            "ui:functions": {
                              "ui:field": "ContextInjectionField",
                              "ui:options": {
                                "injections": {
                                  "/ui:options/rules/0/regexp": "/creator"
                                }
                              }
                            },
                            "ui:field": "DependentDisableField",
                            "ui:options": {
                              "rules": [
                                {
                                  "disableDefiner": "leg",
                                  "disableField": "editors",
                                  "regexp": "creator is injected here",
                                  "inlineHelp": "Du måste ha redigeringsrättigheter.",
                                  "disabledValueToDisplay": true
                                },
                                {
                                  "disableDefiner": "leg",
                                  "disableField": "editors",
                                  "regexp": "^((?!(MA\\.\\d)).)*$"
                                }
                              ]
                            }
                          }
                        }
                      },
                      "legEditorSizeFixer": {
                        "fields": [
                          "_legEditor"
                        ],
                        "title": "",
                        "rootUiSchema": {
                          "ui:grid": {
                            "lg": 6,
                            "md": 6,
                            "sm": 9,
                            "xs": 12
                          }
                        }
                      }
                    }
                  }
                }
              },
              "eventTime": {
                "fields": [
                  "dateBegin",
                  "dateEnd"
                ],
                "title": "",
                "rootUiSchema": {
                  "ui:grid": {
                    "lg": {
                      "dateBegin": 3,
                      "dateEnd": 2
                    },
                    "md": {
                      "dateBegin": 4,
                      "dateEnd": 2
                    },
                    "sm": {
                      "dateBegin": 5,
                      "dateEnd": 3
                    },
                    "xs": 12
                  }
                }
              }
            }
          },
          "leg": {
            "ui:widget": "AutosuggestWidget",
            "ui:help": "@legHelp",
            "ui:options": {
              "autosuggestField": "friends",
              "allowNonsuggestedValue": true,
              "suggestionReceive": "key",
              "preventTypingPattern": "^MA\\.\\d+$"
            }
          },
          "dateBegin": {
            "ui:widget": "DateTimeWidget",
            "ui:options": {
              "showButtons": true
            }
          },
          "dateEnd": {
            "ui:widget": "DateTimeWidget"
          },
          "legPublic": {
            "ui:options": {
              "allowUndefined": false
            },
            "ui:help": "Du kan gömma observatörsnamn om det behövs genom att välja \"Nej\". Observatörsnamnen är alltid synliga för auktoritativa medel."
          },
          "gatheringFact": {
            "lolifeSiteClassification": {
              "ui:title": "Luokitus"
            }
          }
        },
        "editors": {
          "ui:help": "Om du rapporterar en identifierad användare som observatör och användaren har lagt till dig som en vän, kan du ge användaren rätt att ändra denna fältbesöksrapport. Förutom observationer från denna fältbesöksrapport visas till användaren bland hans/hennes egna observationer.",
          "ui:options": {
            "allowUndefined": false
          }
        },
        "secureLevel": {
          "ui:widget": "AnyToBooleanWidget",
          "ui:help": "Genom att välja \"Nej\" kommer observationerna geografisk information att grovas till en 10 x 10 km² kvadrat i offentligt material. Den geografiska informationen kommer alltid att finnas tillgänglig för auktoritativa uppgifter i detalj. Bilder som är fästa vid grovade observationer är offentliga.",
          "ui:options": {
            "trueValue": "MX.secureLevelNone",
            "falseValue": "MX.secureLevelKM10",
            "allowUndefined": false
          }
        },
        "keywords": {
          "ui:field": "TagArrayField"
        },
        "gatherings": {
          "items": {
            "dateBegin": {
              "ui:options": {
                "showButtons": true
              },
              "ui:widget": "DateTimeWidget"
            },
            "dateEnd": {
              "ui:widget": "DateTimeWidget"
            },
            "geometry": {
              "ui:field": "HiddenField"
            },
            "images": {
              "ui:field": "ImageArrayField",
              "ui:options": {
                "capturerVerbatimPath": "/gatheringEvent/leg"
              }
            },
            "namedPlaceID": {
              "ui:field": "HiddenField"
            },
            "locality": {
              "ui:widget": "TextareaWidget"
            },
            "biologicalProvince": {
              "ui:field": "HiddenField"
            },
            "taxonCensus": {
              "items": {
                "censusTaxonID": {
                  "ui:options": {
                    "allowNonsuggestedValue": true,
                    "autosuggestField": "taxon",
                    "suggestionReceive": "key"
                  },
                  "ui:widget": "AutosuggestWidget"
                }
              }
            },
            "ui:functions": [
              {
                "ui:field": "ConditionalOnChangeField",
                "ui:options": {
                  "rules": [
                    {
                      "transformations": {
                        "units": []
                      },
                      "conditions": {
                        "gatheringType": {
                          "regexp": "MY.gatheringTypeCavityTree"
                        }
                      }
                    },
                    {
                      "transformations": {
                        "units": [
                          {
                            "identifications": [
                              {
                                "taxonID": "MX.48243"
                              }
                            ],
                            "recordBasis": "MY.recordBasisHumanObservationIndirect",
                            "breeding": true
                          }
                        ]
                      },
                      "conditions": {
                        "gatheringType": {
                          "regexp": "MY.gatheringTypeNestTree"
                        }
                      }
                    },
                    {
                      "transformations": {
                        "units": [
                          {
                            "identifications": [
                              {
                                "taxonID": "MX.48243"
                              }
                            ],
                            "recordBasis": "MY.recordBasisHumanObservationIndirect"
                          }
                        ]
                      },
                      "conditions": {
                        "gatheringType": {
                          "regexp": "MY.gatheringTypeDroppingsTree"
                        }
                      }
                    },
                    {
                      "transformations": {
                        "units": [
                          {
                            "identifications": [
                              {
                                "taxonID": "MX.48243"
                              }
                            ]
                          }
                        ]
                      },
                      "conditions": {
                        "gatheringType": {
                          "regexp": "^$"
                        }
                      }
                    }
                  ]
                }
              }
            ],
            "gatheringType": {
              "ui:field": "HiddenField"
            },
            "units": {
              "ui:field": "MultiArrayField",
              "ui:options": {
                "groups": [
                  {
                    "rules": {
                      "field": "alive",
                      "regexp": "^.+$"
                    },
                    "operations": {
                      "type": "merge",
                      "uiSchema": {
                        "ui:title": "Observationer",
                        "ui:options": {
                          "buttons": [
                            {
                              "default": {
                                "alive": true
                              },
                              "fn": "addPredefined",
                              "glyph": "plus",
                              "label": "Observation"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "rules": {
                      "field": "indirectObservationType",
                      "regexp": "^(|MY.indirectObservationTypeFeces)$",
                      "complement": true
                    },
                    "operations": {
                      "type": "merge",
                      "uiSchema": {
                        "ui:title": "Spåra observationer",
                        "ui:options": {
                          "buttons": [
                            {
                              "default": {
                                "indirectObservationType": "MY.indirectObservationTypeSnowTracks",
                                "recordBasis": "MY.recordBasisHumanObservationIndirect"
                              },
                              "fn": "addPredefined",
                              "glyph": "plus",
                              "label": "Spår"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "rules": {
                      "field": "nestType",
                      "regexp": "^.+$"
                    },
                    "operations": {
                      "type": "merge",
                      "uiSchema": {
                        "ui:title": "Boobservationer",
                        "ui:options": {
                          "buttons": [
                            {
                              "default": {
                                "nestType": "MY.nestTypeTreeCavity",
                                "recordBasis": "MY.recordBasisHumanObservationIndirect"
                              },
                              "fn": "addPredefined",
                              "glyph": "plus",
                              "label": "Bo"
                            }
                          ]
                        }
                      }
                    }
                  },
                  {
                    "rules": {
                      "field": "indirectObservationType",
                      "regexp": "^MY.indirectObservationTypeFeces"
                    },
                    "operations": {
                      "type": "merge",
                      "uiSchema": {
                        "ui:title": "Droppings observationer",
                        "ui:options": {
                          "buttons": [
                            {
                              "default": {
                                "indirectObservationType": "MY.indirectObservationTypeFeces",
                                "recordBasis": "MY.recordBasisHumanObservationIndirect"
                              },
                              "fn": "addPredefined",
                              "glyph": "plus",
                              "key": "3",
                              "label": "Spillning"
                            }
                          ]
                        }
                      }
                    }
                  }
                ],
                "renderAdd": false
              },
              "items": {
                "ui:functions": [
                  {
                    "ui:field": "ConditionalUiSchemaField",
                    "ui:options": {
                      "cases": [
                        {
                          "operations": {
                            "type": "merge",
                            "uiSchema": {
                              "ui:options": {
                                "color": "#9e713b"
                              }
                            }
                          },
                          "rules": {
                            "field": "nestType",
                            "regexp": "^.+$"
                          }
                        },
                        {
                          "operations": {
                            "type": "merge",
                            "uiSchema": {
                              "ui:options": {
                                "color": "#b89220"
                              }
                            }
                          },
                          "rules": {
                            "field": "indirectObservationType",
                            "regexp": "^.+$"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "ui:field": "FlatField",
                    "ui:options": {
                      "fields": [
                        "unitFact"
                      ]
                    }
                  },
                  {
                    "ui:field": "ScopeField",
                    "ui:options": {
                      "fields": [],
                      "glyphFields": [
                        {
                          "glyph": "camera",
                          "show": "images",
                          "label": "Lägg till en foto",
                          "open": false
                        }
                      ],
                      "fieldScopes": {
                        "alive": {
                          "+": {
                            "fields": [
                              "alive",
                              "count",
                              "taxonConfidence",
                              "recordBasis",
                              "unitFact_lolifeNestTree",
                              "nestTreeDiameterInCentimeters",
                              "notes"
                            ],
                            "uiSchema": {
                              "recordBasis": {
                                "ui:options": {
                                  "filterType": "blacklist",
                                  "filter": [
                                    "MY.recordBasisHumanObservationIndirect"
                                  ]
                                }
                              },
                              "ui:order": [
                                "alive",
                                "count",
                                "taxonConfidence",
                                "recordBasis",
                                "unitFact_lolifeNestTree",
                                "nestTreeDiameterInCentimeters",
                                "notes",
                                "*"
                              ]
                            }
                          }
                        },
                        "nestType": {
                          "+": {
                            "fields": [
                              "nestType",
                              "nestNotes",
                              "nestCount",
                              "taxonConfidence",
                              "unitFact_lolifeNestTree",
                              "nestTreeDiameterInCentimeters",
                              "notes"
                            ],
                            "uiSchema": {
                              "recordBasis": {
                                "ui:field": "HiddenField"
                              },
                              "ui:order": [
                                "nestType",
                                "nestNotes",
                                "nestCount",
                                "taxonConfidence",
                                "unitFact_lolifeNestTree",
                                "nestTreeDiameterInCentimeters",
                                "notes",
                                "*"
                              ],
                              "taxonConfidence": {
                                "ui:title": ""
                              }
                            }
                          }
                        },
                        "indirectObservationType": {
                          "+": {
                            "fieldScopes": {
                              "indirectObservationType": {
                                "MY.indirectObservationTypeFeces": {
                                  "fields": [
                                    "unitFact_lolifeDroppingsType",
                                    "unitFact_lolifeDroppingsCount",
                                    "unitFact_lolifeDroppingsQuality",
                                    "unitFact_lolifeNestTree",
                                    "nestTreeDiameterInCentimeters",
                                    "notes"
                                  ],
                                  "uiSchema": {
                                    "indirectObservationType": {
                                      "ui:field": "HiddenField"
                                    },
                                    "ui:order": [
                                      "unitFact_lolifeDroppingsType",
                                      "unitFact_lolifeDroppingsCount",
                                      "unitFact_lolifeDroppingsQuality",
                                      "unitFact_lolifeNestTree",
                                      "nestTreeDiameterInCentimeters",
                                      "notes",
                                      "*"
                                    ]
                                  }
                                },
                                "MY.indirectObservationTypeSnowTracks": {
                                  "refs": [
                                    "indirectObs"
                                  ]
                                },
                                "MY.indirectObservationTypeUrine": {
                                  "refs": [
                                    "indirectObs"
                                  ]
                                },
                                "MY.indirectObservationTypeFeasting": {
                                  "refs": [
                                    "indirectObs"
                                  ]
                                },
                                "MY.indirectObservationTypeFoodStock": {
                                  "refs": [
                                    "indirectObs"
                                  ]
                                },
                                "MY.indirectObservationTypeNone": {
                                  "refs": [
                                    "indirectObs"
                                  ]
                                }
                              }
                            },
                            "uiSchema": {
                              "recordBasis": {
                                "ui:field": "HiddenField"
                              }
                            }
                          }
                        }
                      },
                      "definitions": {
                        "indirectObs": {
                          "fields": [
                            "indirectObservationType",
                            "unitFact_lolifeNestTree",
                            "nestTreeDiameterInCentimeters",
                            "notes"
                          ],
                          "uiSchema": {
                            "indirectObservationType": {
                              "ui:options": {
                                "filterType": "blacklist",
                                "filter": [
                                  "MY.indirectObservationTypeFeces"
                                ]
                              }
                            },
                            "ui:order": [
                              "*",
                              "indirectObservationType",
                              "unitFact_lolifeNestTree",
                              "nestTreeDiameterInCentimeters",
                              "notes"
                            ]
                          }
                        }
                      }
                    }
                  }
                ],
                "ui:field": "LocationChooserField",
                "ui:options": {
                  "geometryField": "/unitGathering/geometry",
                  "strategy": "lolifeUnit"
                },
                "images": {
                  "ui:field": "ImageArrayField",
                  "ui:options": {
                    "capturerVerbatimPath": "/gatheringEvent/leg"
                  }
                },
                "identifications": {
                  "ui:field": "HiddenField"
                },
                "unitGathering": {
                  "ui:field": "HiddenField"
                },
                "alive": {
                  "ui:options": {
                    "allowUndefined": false
                  }
                },
                "taxonConfidence": {
                  "ui:widget": "AnyToBooleanWidget",
                  "ui:options": {
                    "trueValue": "MY.taxonConfidenceSure",
                    "falseValue": "MY.taxonConfidenceUnsure",
                    "allowUndefined": false
                  }
                },
                "ui:grid": {
                  "lg": {
                    "taxonConfidence": 1,
                    "count": 1,
                    "*": 2
                  },
                  "md": {
                    "taxonConfidence": 1,
                    "count": 1,
                    "*": 2
                  },
                  "sm": {
                    "taxonConfidence": 2,
                    "count": 1,
                    "*": 2
                  },
                  "xs": 12
                },
                "ui:order": [
                  "taxonConfidence",
                  "recordBasis",
                  "count",
                  "alive",
                  "nestType",
                  "nestNotes",
                  "nestCount",
                  "indirectObservationType",
                  "lolifeDroppingsType",
                  "lolifeDroppingsCount",
                  "lolifeDroppingsQuality",
                  "notes",
                  "*"
                ]
              },
              "ui:title": "Observationer"
            },
            "ui:order": [
              "gatheringType",
              "*",
              "units"
            ],
            "ui:settings": [
              "%additionalFields/scopeField_gatherings"
            ],
            "title": "",
            "ui:grid": {
              "xs": {
                "habitat": 6,
                "notes": 6,
                "locality": 12
              }
            }
          },
          "ui:field": "MapArrayField",
          "ui:title": "",
          "ui:options": {
            "ui:buttonsDesktopLayout": true,
            "buttons": [
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "4",
                "label": "Habitatzon",
                "default": {
                  "gatheringType": "MY.gatheringTypeLolifeHabitatZone"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "3",
                "label": "Kärnzon",
                "default": {
                  "gatheringType": "MY.gatheringTypeLolifeCoreZone"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "label": "Avels- och viloplats",
                "default": {
                  "gatheringType": "MY.gatheringTypeBreedingAndRestingArea"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "1",
                "label": "Foderområde",
                "default": {
                  "gatheringType": "MY.gatheringTypeForagingArea"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "2",
                "label": "Åtkomstväg",
                "default": {
                  "gatheringType": "MY.gatheringTypeLolifeAccess"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "5",
                "label": "Tillämplig zon",
                "default": {
                  "gatheringType": "MY.gatheringTypeLolifeApplicableZone"
                },
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              },
              {
                "glyph": "plus",
                "fn": "addPredefined",
                "key": "6",
                "label": "Landväg",
                "help": "",
                "tooltipPlacement": "left",
                "tooltipClass": "lg",
                "className": "text-left"
              }
            ],
            "popupFields": [
              {
                "field": "/gatheringType",
                "template": "title"
              },
              {
                "strategy": "lolifeUnit",
                "template": "title",
                "value": ""
              },
              {
                "text": "/gatheringType",
                "template": "description",
                "value": ""
              }
            ],
            "titleFormat": "%{Title} %{idx}",
            "mapOptions": {
              "controls": {
                "draw": {
                  "clear": true,
                  "delete": true,
                  "redo": false,
                  "reverse": true,
                  "undo": false
                }
              }
            },
            "mapSizes": {
              "lg": 8,
              "md": 6,
              "sm": 6,
              "xs": 12
            },
            "minHeight": 435,
            "propsToPassToInlineSchema": [
              "formData"
            ],
            "resizeTimeout": 210,
            "hasActive": false,
            "geometryField": "geometry",
            "geometryMapper": "lolife",
            "nonRemovables": [
              0
            ],
            "inlineUiSchemaRoot": {
              "ui:functions": {
                "ui:field": "FilterArrayField",
                "ui:options": {
                  "rules": {
                    "idx": 0,
                    "complement": true
                  }
                }
              },
              "ui:field": "SingleActiveArrayField",
              "ui:options": {
                "renderAdd": false,
                "confirmDelete": true,
                "headerFormatters": [
                  {
                    "field": "gatheringType",
                    "default": "Landväg"
                  },
                  "lolife"
                ]
              }
            },
            "belowUiSchemaRoot": {
              "ui:field": "SingleItemArrayField",
              "ui:options": {
                "activeIdx": 0
              }
            },
            "belowFields": [
              "units"
            ],
            "passActiveIdxToBelow": false
          },
          "ui:grid": {
            "lg": 2,
            "md": 2,
            "sm": 2,
            "xs": 12
          },
          "ui:settings": [
            "/mapOptions/tileLayerName",
            "/mapOptions/overlayNames",
            "/mapOptions/tileLayerOpacity",
            "/mapOptions/tileLayers"
          ]
        }
      }
    }
  }
}